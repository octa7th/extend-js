var is={func:function(t){return"function"==typeof t},string:function(t){return"string"==typeof t},"boolean":function(t){return"boolean"==typeof t},array:function(t){return"[object Array]"===Object.prototype.toString.apply(t)},object:function(t){return"object"==typeof t&&t&&!this.array(t)},"null":function(t){return null===t}};Function.prototype.method=function(t,n){return this.prototype[t]?void 0:(this.prototype[t]=n,this)},Function.method("bind",function(t){var n=this,e=Array.prototype.slice,r=e.apply(arguments,[1]);return function(){return n.apply(t,r.concat(e.apply(arguments,[0])))}}),Object.method("create",function(t){var n=function(){};return n.prototype=t,new n}),Object.method("forEach",function(t){var n;for(n in this)this.hasOwnProperty(n)&&is.func(t)&&t.apply(this,[this[n],n]);return this}),Array.method("forEach",function(t){var n,e=this.length;for(n=0;e>n;n++)is.func(t)&&t.apply(this,[this[n],n]);return this}),Number.method("integer",function(){return Math[0>this?"ceil":"floor"](this)}),RegExp.method("test",function(t){return null!==this.exec(t)}),String.method("trim",function(){return this.replace(/^\s+|\s+$/g,"")});var by=function(t){var n,e,r;if(n=is.func(arguments[1])?arguments[1]:null,e=is.string(arguments[1])?arguments[1]:is.string(arguments[2])?arguments[2]:"asc",r=is.boolean(arguments[1])?arguments[1]:is.boolean(arguments[2])?arguments[2]:is.boolean(arguments[3])?arguments[3]:!1,"asc"!==e&&"desc"!==e)throw{name:"Error",message:"Expected 'asc' or 'desc' for sorting direction"};return function(o,i){var s,u;if(o&&i&&"object"==typeof o&&"object"==typeof i)return s="string"!=typeof o[t]?o[t]:r?o[t]:o[t].toLowerCase(),u="string"!=typeof i[t]?i[t]:r?i[t]:i[t].toLowerCase(),s===u?is.func(n)?n(o,i):0:typeof s==typeof u?"asc"===e?u>s?-1:1:u>s?1:-1:"asc"===e?typeof u>typeof s?-1:1:typeof u>typeof s?1:-1;throw{name:"Error",message:"Expected an object when sorting by "+t}}};